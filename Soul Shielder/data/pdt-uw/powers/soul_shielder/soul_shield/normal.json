{
	"type": "apoli:multiple",
	"callbacks": {
		"type": "apoli:action_on_callback",
		"entity_action_gained": {
			"type": "apoli:execute_command",
			"command": "function pdt-uw:soul_shielder/soul_shield/init"
		},
		"entity_action_lost": {
			"type": "apoli:execute_command",
			"command": "function pdt-uw:soul_shielder/soul_shield/end"
		},
		"entity_action_respawned": {
			"type": "apoli:execute_command",
			"command": "function pdt-uw:soul_shielder/soul_shield/respawn"
		}
	},
	"strength": {
		"type": "apoli:resource",
		"min": 0,
		"max": 200,
		"start_value": 20,
		"hud_render": {
			"should_render": false
		}
	},
	"visual_broken": {
		"type": "apoli:resource",
		"min": 0,
		"max": 20,
		"start_value": 20,
		"hud_render": {
			"should_render": true,
			"sprite_location": "pdt-uw:textures/gui/resource_bars/soul_shield_weak.png",
			"bar_index": 0,
			"condition": {
				"type": "apoli:resource",
				"resource": "*:*_strength",
				"comparison": "==",
				"compare_to": 0
			}
		}
	},
	"visual_weak": {
		"type": "apoli:resource",
		"min": 0,
		"max": 20,
		"start_value": 20,
		"hud_render": {
			"should_render": true,
			"sprite_location": "pdt-uw:textures/gui/resource_bars/soul_shield_weak.png",
			"bar_index": 1,
			"condition": {
				"type": "apoli:and",
				"conditions": [
					{
						"type": "apoli:resource",
						"resource": "*:*_strength",
						"comparison": ">",
						"compare_to": 0
					},
					{
						"type": "apoli:resource",
						"resource": "*:*_strength",
						"comparison": "<",
						"compare_to": 20
					}
				]
			}
		}
	},
	"visual_regular": {
		"type": "apoli:resource",
		"min": 20,
		"max": 100,
		"start_value": 20,
		"hud_render": {
			"should_render": true,
			"sprite_location": "pdt-uw:textures/gui/resource_bars/soul_shield.png",
			"bar_index": 0,
			"condition": {
				"type": "apoli:and",
				"conditions": [
					{
						"type": "apoli:resource",
						"resource": "*:*_strength",
						"comparison": ">=",
						"compare_to": 20
					},
					{
						"type": "apoli:resource",
						"resource": "*:*_strength",
						"comparison": "<=",
						"compare_to": 100
					}
				]
			}
		}
	},
	"visual_strong": {
		"type": "apoli:resource",
		"min": 100,
		"max": 200,
		"start_value": 50,
		"hud_render": {
			"should_render": true,
			"sprite_location": "pdt-uw:textures/gui/resource_bars/soul_shield_strong.png",
			"bar_index": 0,
			"condition": {
				"type": "apoli:resource",
				"resource": "*:*_strength",
				"comparison": ">",
				"compare_to": 100
			}
		}
	},
	"tick": {
		"type": "apoli:action_over_time",
		"interval": 1,
		"entity_action": {
			"type": "apoli:and",
			"actions": [
				{
					"type": "apoli:execute_command",
					"command": "resource operation @s pdt-uw:soul_shielder/soul_shield/normal_strength = @s pdt-uw.soul_shield"
				},
				{
					"type": "apoli:execute_command",
					"command": "resource operation @s pdt-uw:soul_shielder/soul_shield/normal_visual_broken = @s pdt-uw.soul_shield"
				},
				{
					"type": "apoli:execute_command",
					"command": "resource operation @s pdt-uw:soul_shielder/soul_shield/normal_visual_weak = @s pdt-uw.soul_shield"
				},
				{
					"type": "apoli:execute_command",
					"command": "resource operation @s pdt-uw:soul_shielder/soul_shield/normal_visual_regular = @s pdt-uw.soul_shield"
				},
				{
					"type": "apoli:execute_command",
					"command": "resource operation @s pdt-uw:soul_shielder/soul_shield/normal_visual_strong = @s pdt-uw.soul_shield"
				}
			]
		}
	},
	"regen_delay": {
		"type": "apoli:resource",
		"min": 0,
		"max": 50,
		"start_value": 0,
		"max_action": {
			"type": "apoli:and",
			"actions": [
				{
					"type": "apoli:execute_command",
					"command": "scoreboard players add @s pdt-uw.soul_shield 1"
				},
				{
					"type": "apoli:set_resource",
					"resource": "*:*_regen_delay",
					"value": 0
				}
			]
		},
		"hud_render": {
			"should_render": false
		}
	},
	"regen_tick": {
		"type": "apoli:action_over_time",
		"interval": 1,
		"condition": {
			"type": "apoli:and",
			"conditions": [
				{
					"type": "apoli:resource",
					"resource": "pdt:combat_timer",
					"comparison": "==",
					"compare_to": 0
				},
				{
					"type": "apoli:or",
					"conditions": [
						{
							"type": "apoli:predicate",
							"predicate": "pdt-uw:soul_shield/is_broken"
						},
						{
							"type": "apoli:predicate",
							"predicate": "pdt-uw:soul_shield/is_weak"
						}
					]
				}
			]
		},
		"entity_action": {
			"type": "apoli:change_resource",
			"resource": "*:*_regen_delay",
			"change": 1
		},
		"falling_action": {
			"type": "apoli:set_resource",
			"resource": "*:*_regen_delay",
			"value": 0
		}
	},
	"color_weak": {
		"type": "apoli:model_color",
		"condition": {
			"type": "apoli:and",
			"conditions": [
				{
					"type": "apoli:resource",
					"resource": "*:*_strength",
					"comparison": ">",
					"compare_to": 0
				},
				{
					"type": "apoli:resource",
					"resource": "*:*_strength",
					"comparison": "<",
					"compare_to": 20
				}
			]
		},
		"red": 0.85,
		"green": 0.95,
		"blue": 1,
		"alpha": 1
	},
	"color_normal": {
		"type": "apoli:model_color",
		"condition": {
			"type": "apoli:and",
			"conditions": [
				{
					"type": "apoli:resource",
					"resource": "*:*_strength",
					"comparison": ">=",
					"compare_to": 20
				},
				{
					"type": "apoli:resource",
					"resource": "*:*_strength",
					"comparison": "<=",
					"compare_to": 100
				}
			]
		},
		"red": 0.7,
		"green": 0.9,
		"blue": 1,
		"alpha": 1
	},
	"color_strong": {
		"type": "apoli:model_color",
		"condition": {
			"type": "apoli:resource",
			"resource": "*:*_strength",
			"comparison": ">",
			"compare_to": 100
		},
		"red": 0.55,
		"green": 0.85,
		"blue": 1,
		"alpha": 1
	}
}