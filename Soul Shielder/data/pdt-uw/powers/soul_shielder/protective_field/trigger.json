{
	"hidden": true,
	"type": "apoli:action_over_time",
	"interval": 1,
	"entity_action": {
		"type": "apoli:and",
		"actions": [
			{
				"type": "apoli:area_of_effect",
				"radius": 5,
				"bientity_condition": {
					"type": "apoli:and",
					"conditions": [
						{
							"type": "apoli:target_condition",
							"condition": {
								"type": "apoli:living"
							}
						},
						{
							"type": "apoli:undirected",
							"condition": {
								"type": "apoli:can_see",
								"shape_type": "collider",
								"fluid_handling": "none"
							}
						}
					]
				},
				"bientity_action": {
					"type": "apoli:if_else",
					"condition": {
						"type": "apoli:target_condition",
						"condition": {
							"type": "apoli:command",
							"command": "execute if entity @s[tag=pdt-uw.soul_shield]",
							"comparison": "==",
							"compare_to": 1
						}
					},
					"if_action": {
						"type": "apoli:target_action",
						"action": {
							"type": "apoli:and",
							"actions": [
								{
									"type": "apoli:execute_command",
									"command": "scoreboard players add @s pdt-uw.soul_shield 5"
								},
								{
									"type": "apoli:execute_command",
									"command": "execute if entity @s[tag=pdt-uw.soul_shield.temp] run scoreboard players set @s pdt-uw.soul_shield.duration 200"
								}
							]
						}
					},
					"else_action": {
						"type": "apoli:target_action",
						"action": {
							"type": "apoli:grant_power",
							"power": "*:soul_shielder/soul_shield/weak",
							"source": "pdt-uw:soul_shielder_ability"
						}
					}
				}
			},
			{
				"type": "apoli:if_else",
				"condition": {
					"type": "apoli:command",
					"command": "scoreboard players get @s pdt-uw.protective_field.ticks",
					"comparison": "==",
					"compare_to": 0
				},
				"if_action": {
					"type": "apoli:execute_command",
					"command": "kill @s"
				},
				"else_action": {
					"type": "apoli:revoke_power",
					"power": "*:*",
					"source": "pdt-uw:protective_field_tick"
				}
			}
		]
	}
}